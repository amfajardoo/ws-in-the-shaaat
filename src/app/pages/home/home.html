<header
  class="backdrop-blur-md bg-gray-800/80 p-4 px-6 shadow-lg flex items-center justify-between"
>
  <form
    class="flex items-center gap-4"
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
  >
    <input
      type="email"
      formControlName="contactEmail"
      placeholder="Enter email"
      class="px-4 py-2 w-64 rounded-xl bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 shadow-inner transition duration-200"
      required
    />
    <button
      type="submit"
      class="bg-gradient-to-r tracking-[2.5px] uppercase from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white px-5 py-2 rounded-xl shadow-md hover:shadow-xl transition-all duration-200"
    >
      âž• Add contact
    </button>
  </form>

  <button
    class="bg-gradient-to-r tracking-[2.5px] uppercase from-orange-500 to-amber-800 hover:from-amber-500 hover:to-amber-600 text-white px-5 py-2 rounded-xl shadow-md hover:shadow-xl transition-all duration-200"
    (click)="logout()"
  >
    ðŸ”’ Logout
  </button>
</header>
<main class="bg-gray-900 text-white min-h-screen font-sans">
  @if (contactsListResource.hasValue()) {
    @let contactsList = contactsListResource.value();
    @for (contact of contactsList; track contact.uid) {
      <div
        class="p-4 border-b border-gray-700 flex items-center gap-4 cursor-pointer"
        (click)="startChat(contact)"
      >
        <img
          [ngSrc]="contact.photoURL"
          [alt]="'photo'"
          width="32"
          height="32"
          class="w-8 h-8 rounded-full mb-2"
        />
        <h2 class="text-lg font-semibold">{{ contact.displayName }}</h2>
        <p class="text-gray-400">{{ contact.email }}</p>
      </div>
    }
  }
  @let contactDetails = currentContact();
  @if (contactDetails) {
    <app-chat
      [contact]="contactDetails"
      [chatId]="chatIdWithCurrentContact()"
    />
  } @else {
    <section class="bg-gray-700 flex items-center justify-center min-h-screen">
      <div
        class="w-full max-w-md h-[600px] bg-white shadow-xl rounded-lg flex flex-col overflow-hidden"
      >
        <div
          class="flex-1 flex flex-col items-center justify-center p-4 text-center"
        >
          <div class="w-24 h-24 bg-gray-300 rounded-full mb-4"></div>
          <h2 class="text-xl font-semibold mb-2">Selecciona un contacto</h2>
          <p class="text-gray-600">
            Para iniciar una conversaciÃ³n, por favor selecciona un contacto de
            la lista.
          </p>
        </div>
      </div>
    </section>
  }
</main>
